classdef Constants
    %CONSTANTS Constant definition file.
    
    properties (Constant = true)
        feet_to_meters = 0.3048;
        G = 6.67E-11;
        
        tunnel_angle_offset_from_NS = 4.5 * pi / 180;
        tunnel_slope = 0.01;
        R_z = Constants.rotate_z(Constants.tunnel_angle_offset_from_NS);
        tunnel_xh = Constants.R_z * [1; 0; 0];
        tunnel_yh = normc(Constants.R_z * [0; 1; Constants.tunnel_slope]);
        tunnel_zh = cross(Constants.tunnel_xh, Constants.tunnel_yh);
        
        % Center prisms
        lc = [495740.471; 540894.252; 2116.173];
        lc_diag = [12.0; 233.0; 14.0] * Constants.feet_to_meters;
        
        large_first_room = Constants.lc + [6 - (30 + 8 / 12) / 2; 233; 0] * Constants.feet_to_meters;
        large_first_room_diag = [30 + 8 / 12; 27 * (1 + 5.5 / 2.25); 16 + 3 / 12] * Constants.feet_to_meters;

        corridor = oriented_prism(Constants.lc, Constants.lc_diag, ...
            Constants.tunnel_xh, Constants.tunnel_yh, Constants.tunnel_zh);
        
        large_room = oriented_prism(Constants.large_first_room, Constants.large_first_room_diag, ...
            Constants.tunnel_xh, Constants.R_z * [0; 1; 0], [0; 0; 1]);
        
        all_pts_info = {
            1       495745.021      540866.046      2115.782        'HV-1';
            2       495648.807      540807.971      2113.417        'HV-2';
            3       495748.623      540810.148      2110.525        'HV-3';
            4       495737.066      540962.890      2116.825        'HV-4';
            5       495737.109      540952.377      2116.766        'HV-5';
            6       495726.981      540950.423      2116.765        'HV-6';
            7       495871.677      541001.772      2215.903        'HV-7';
            100     495752.092      540864.786      2116.136        'BS-TN-1';
            107     495606.499      541105.875      2222.672        'A1_7';
            108     495568.754      541130.415      2223.868        'A1_8';
            201     495723.007      541022.010      2217.205        'A2_1';
            202     495723.359      541011.180      2217.036        'A2_2B';
            203     495710.942      541002.394      2214.071        'A2_3';
            204     495698.732      540998.396      2212.750        'A2_4';
            205     495690.268      540992.908      2210.663        'A2_5';
            206     495719.188      540986.871      2207.866        'A2_6';
            208     495745.642      541071.570      2218.073        'A2_8';
            209     495738.790      541048.214      2217.552        'A2_9';
            210     495686.967      541027.777      2217.184        'A2_10';
            211     495668.580      541083.167      2219.198        'A2_11';
            212     495645.717      541045.463      2218.234        'A2_12';
            213     495638.030      541080.819      2219.607        'A2_13';
            214     495714.539      541069.969      2218.020        'A2_14';
            215     495729.104      541070.309      2218.092        'A2_15';
            216     495728.957      541048.231      2217.609        'A2_16';
            217     495707.473      541135.119      2221.881        'A2_17';
            301     495845.997      540987.356      2213.440        'A3_1';
            302     495875.871      540983.127      2213.135        'A3_2';
            303     495914.670      540973.949      2212.207        'A3_3';
            304     495951.740      540965.847      2210.869        'A3_4';
            305     495988.720      540964.036      2209.596        'A3_5-FLAG DISTRBD';
            306     495818.250      541043.325      2216.592        'A3_6';
            307     495751.122      541026.879      2217.016        'A3_7';
            308     495800.652      541007.167      2214.959        'A3_7 OR A38';
            309     495800.649      541007.160      2214.959        'A3_7 OR A38';
            501     495677.067      540900.064      2124.393        'A5_1';
            502     495700.945      540910.649      2135.731        'A5_2';
            503     495725.015      540920.219      2142.926        'A5_3';
            504     495743.127      540918.531      2137.259        'A5_4';
            603     495936.379      541054.789      2215.629        'A6_3';
            604     495902.716      541109.253      2217.184        'A6_4';
            605     495872.619      541056.858      2216.713        'A6_5';
            607     495801.714      541079.070      2217.570        'A6_7';
            608     495773.663      541119.912      2220.908        'A6_8';
            1000    495738.803      540950.461      2116.762        'MU-00 CL';
            1001    495737.490      540968.022      2116.805        'MU-01 CL';
            1002    495741.057      540921.927      2116.462        'MU-02 CL';
            1003    495743.152      540895.400      2116.205        'MU-03 CL';
            1100    495742.853      540886.973      2116.098        'TS00 0m';
            1101    495742.279      540894.437      2116.194        'TS01 7.5m';
            1102    495741.675      540901.935      2116.254        'TS02 15m';
            1103    495741.062      540909.402      2116.329        'TS03 22.5m';
            1104    495740.503      540916.868      2116.395        'TS04 30m';
            1105    495740.106      540921.843      2116.465        'TS05 35m';
            1106    495740.015      540923.108      2116.470        'TS06 36.25m';
            1107    495739.927      540924.350      2116.483        'TS07 37.5m';
            1108    495739.823      540925.604      2116.483        'TS08 38.75m';
            1109    495739.716      540926.831      2116.500        'TS09 40m';
            1110    495739.532      540929.328      2116.515        'TS10 42.5m';
            1111    495739.318      540931.827      2116.541        'TS11 45m';
            1112    495739.213      540933.075      2116.554        'TS12 46.25m';
            1113    495739.105      540934.310      2116.566        'TS13 47.5m';
            1114    495738.916      540936.810      2116.606        'TS14 50m';
            1115    495738.738      540939.284      2116.641        'TS15 52.5m';
            1116    495738.553      540941.794      2116.666        'TS16 55m';
            1117    495738.359      540944.288      2116.687        'TS17 57.5m';
            1118    495737.755      540951.733      2116.767        'TS18 65m';
            1119    495737.207      540959.218      2116.814        'TS19 72.5m';
            1120    495736.854      540966.716      2116.802        'TS20 80m';
            1200    495737.045      540961.244      2116.819        'CL Doorway';
            1201    495738.871      540961.130      2116.825        'NE Cor Tunnel';
            1202    495735.246      540960.846      2116.837        'NW Cor Tunnel';
            1203    495742.649      540890.400      2116.102        'CL Doorway';
            1204    495740.471      540894.252      2116.173        'W wall tunnel';
            1205    495744.124      540894.537      2116.192        'E wall tunnel';
            };
        
        pt_names = Constants.all_pts_info(:,5);
        
        all_pts = cell2mat(Constants.all_pts_info(:,2:4))';
        
        tunnel_pts = Constants.all_pts(:, cellfun(@(name) strcmp(name(1:2), 'TS'), Constants.pt_names));
    end
    
    methods (Static)
        function R_z = rotate_z(theta)
            R_z = [cos(theta), -sin(theta), 0;
                   sin(theta),  cos(theta), 0;
                   0         ,  0         , 1];
        end
    end
end